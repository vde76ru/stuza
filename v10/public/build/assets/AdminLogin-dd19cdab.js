import{_ as g,g as c,h as y,a as n,c as l,b as t,s as b,j as u,v as m,t as x,m as h,y as v,n as f}from"./main-76960159.js";const w={name:"AdminLogin",setup(){const d=v(),e=c(!1),a=c(""),o=y({email:"",password:""});return{form:o,loading:e,error:a,login:async()=>{var i,s;e.value=!0,a.value="";try{const r=await f.post("/admin/login",o);localStorage.setItem("auth_token",r.data.token),f.defaults.headers.common.Authorization=`Bearer ${r.data.token}`,d.push("/admin")}catch(r){a.value=((s=(i=r.response)==null?void 0:i.data)==null?void 0:s.message)||"Ошибка входа"}finally{e.value=!1}}}}},_={class:"admin-login min-h-screen bg-stuzha-bg flex items-center justify-center py-12 px-4"},k={class:"max-w-md w-full space-y-8"},z={class:"space-y-4"},B={key:0,class:"text-red-500 text-sm text-center"},V=["disabled"],j={key:0},A={key:1};function E(d,e,a,o,p,i){return n(),l("div",_,[t("div",k,[e[5]||(e[5]=t("div",{class:"text-center"},[t("h2",{class:"text-3xl font-bold text-white"},"Вход в админ-панель"),t("p",{class:"mt-2 text-sm text-gray-400"},"Управление контентом Стужа")],-1)),t("form",{onSubmit:e[2]||(e[2]=b((...s)=>o.login&&o.login(...s),["prevent"])),class:"mt-8 space-y-6"},[t("div",z,[t("div",null,[e[3]||(e[3]=t("label",{class:"sr-only"},"Email",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.email=s),type:"email",required:"",class:"relative block w-full px-3 py-2 border border-gray-700 placeholder-gray-400 text-white bg-gray-800 rounded-lg focus:outline-none focus:ring-stuzha-accent focus:border-stuzha-accent focus:z-10",placeholder:"Email"},null,512),[[m,o.form.email]])]),t("div",null,[e[4]||(e[4]=t("label",{class:"sr-only"},"Пароль",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.password=s),type:"password",required:"",class:"relative block w-full px-3 py-2 border border-gray-700 placeholder-gray-400 text-white bg-gray-800 rounded-lg focus:outline-none focus:ring-stuzha-accent focus:border-stuzha-accent focus:z-10",placeholder:"Пароль"},null,512),[[m,o.form.password]])])]),o.error?(n(),l("div",B,x(o.error),1)):h("",!0),t("div",null,[t("button",{type:"submit",disabled:o.loading,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-stuzha-accent hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-stuzha-accent disabled:opacity-50"},[o.loading?(n(),l("span",j,"Загрузка...")):(n(),l("span",A,"Войти"))],8,V)])],32)])])}const q=g(w,[["render",E]]);export{q as default};
